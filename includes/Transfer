<h1 id="transfer">Transfer 对象</h1>

<p>所有与企业付款相关的要素信息都存储在 <code class="prettyprint">transfer</code> 对象之中，你可以通过发起企业付款请求创建新的 <code class="prettyprint">transfer</code> 对象，也可以随时查看企业付款对象的状态。每个 <code class="prettyprint">transfer</code> 对象都拥有一个标识 <code class="prettyprint">id</code>，该 <code class="prettyprint">id</code> 在系统内唯一。</p>

<h3 id="canshu">canshu</h3>

<table><thead>
<tr>
<th>参数</th>
<th>描述</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>企业付款对象 id ，由 Ping++ 生成，27 位长度字符串。</td>
<td><strong>string</strong></td>
</tr>
<tr>
<td>object</td>
<td>值为 transfer。</td>
<td><strong>string</strong></td>
</tr>
<tr>
<td>type</td>
<td>付款类型 (当前仅支持 B2C 企业付款: b2c)。</td>
<td><strong>string</strong></td>
</tr>
<tr>
<td>created</td>
<td>创建时间，用 Unix 时间戳表示。</td>
<td><strong>timestamp</strong></td>
</tr>
<tr>
<td>time_transferred</td>
<td>支付完成时间, 用 Unix 时间戳表示。由第三方支付渠道返回。</td>
<td><strong>timestamp</strong></td>
</tr>
<tr>
<td>livemode</td>
<td>是否是 live 模式。</td>
<td><strong>boolean</strong></td>
</tr>
<tr>
<td>status</td>
<td>付款状态。目前支持 3 种状态（pending: 处理中; paid: 付款成功; failed: 付款失败）。</td>
<td><strong>string</strong></td>
</tr>
<tr>
<td>app</td>
<td>付款对应的 app 对象的 id。expandable 可展开。</td>
<td><strong>string</strong></td>
</tr>
<tr>
<td>channel</td>
<td>付款使用的第三方支付渠道名称。目前支持 wx(新渠道)、 wx_pub。</td>
<td><strong>string</strong></td>
</tr>
<tr>
<td>order_no</td>
<td>付款使用的商户内部订单号。wx(新渠道)、wx_pub 规定为 1 ~ 50 位不能重复的数字字母组合。</td>
<td><strong>string</strong></td>
</tr>
<tr>
<td>amount</td>
<td>付款总金额。单位为对应币种的最小货币单位，例如：<b style="color: #f15467;">人民币为分</b>。</td>
<td><strong>integer</strong></td>
</tr>
<tr>
<td>currency</td>
<td>三位 ISO 货币代码，目前仅支持人民币 cny。</td>
<td><strong>currency</strong></td>
</tr>
<tr>
<td>recipient</td>
<td>接收者 id， 为用户在 wx(新渠道)、wx_pub 为用户的 open id。</td>
<td><strong>string</strong></td>
</tr>
<tr>
<td>description</td>
<td>备注信息，最多 255 个 Unicode 字符,渠道为 chinapay 时，最多 99 个 Unicode 字符，不可以包含特殊字符。</td>
<td><strong>string</strong></td>
</tr>
<tr>
<td>transaction_no</td>
<td>交易流水号，由于第三方渠道提供。</td>
<td><strong>string</strong></td>
</tr>
<tr>
<td>extra</td>
<td>支付渠道相关的附加参数，参考<a href="#">extra参数说明</a>。</td>
<td><strong>object</strong></td>
</tr>
</tbody></table>

<h3 id="extra">extra参数说明</h3>

<table><thead>
<tr>
<th>参数</th>
<th>描述</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>wx(微信新渠道)</td>
<td>参数 <code class="prettyprint">user_name</code>[string] 收款人姓名。当该参数为空，则不校验收款人姓名</td>
<td>optional</td>
</tr>
<tr>
<td>wx(微信新渠道)</td>
<td>参数 force_check[boolean] 是否强制校验收款人姓名。仅当 user_name 参数不为空时该参数生效</td>
<td>optional</td>
</tr>
<tr>
<td>wx_pub(微信公众号)</td>
<td>参数 user_name[string] 收款人姓名。当该参数为空，则不校验收款人姓名</td>
<td>optional；</td>
</tr>
<tr>
<td>wx_pub(微信公众号)</td>
<td>参数 force_check[boolean] 是否强制校验收款人姓名。仅当 user_name 参数不为空时该参数生效</td>
<td>optional</td>
</tr>
<tr>
<td>unionpay 企业付款（银行卡）</td>
<td>参数 card_number[string] 1~32位,收款人银行卡号或者存折号</td>
<td>required</td>
</tr>
</tbody></table>

<p>参数 user_name[string] 1~100位,收款人姓名，required
参数 open_bank[string] 1~50位,开户银行,required
参数 prov[string] 1～20位，省份,required
参数 city[string] 1～40位，城市,required
参数 term_type[string] 2位，企业付款（银行卡）业务使用场景, 07:互联网, 08:移动端,required
参数 sub_bank[string] 1～80位，开户支行名称,optional</p>
<pre class="highlight plaintext"><code>{
    "id": "tr_HqbzHCvLOaL4La1ezHfDWTqH",
    "object": "transfer",
    "type": "b2c",
    "created": 1432724825,
    "time_transferred": null,
    "livemode": true,
    "status": "pending",
    "app": "app_1Gqj58ynP0mHeX1q",
    "channel": "wx_pub",
    "order_no": "123456789",
    "amount": 100,
    "amount_settle": 100,
    "currency": "cny",
    "recipient": "o7zpMs5MW2-52GAy5hRrjdYVCktU",
    "description": "Your Description",
    "transaction_no": "1000018301201505200184147302",
    "failure_msg":null,
    "extra": {
        "user_name": "User Name",
        "force_check": true
    }
}
</code></pre>
<pre class="highlight php"><code>{
    "id": "tr_HqbzHCvLOaL4La1ezHfDWTqH",
    "object": "transfer",
    "type": "b2c",
    "created": 1432724825,
    "time_transferred": null,
    "livemode": true,
    "status": "pending",
    "app": "app_1Gqj58ynP0mHeX1q",
    "channel": "wx_pub",
    "order_no": "123456789",
    "amount": 100,
    "amount_settle": 100,
    "currency": "cny",
    "recipient": "o7zpMs5MW2-52GAy5hRrjdYVCktU",
    "description": "Your Description",
    "transaction_no": "1000018301201505200184147302",
    "failure_msg":null,
    "extra": {
        "user_name": "User Name",
        "force_check": true
    }
}
</code></pre>
<pre class="highlight java"><code><span class="o">{</span>
    <span class="s">"id"</span><span class="o">:</span> <span class="s">"tr_HqbzHCvLOaL4La1ezHfDWTqH"</span><span class="o">,</span>
    <span class="s">"object"</span><span class="o">:</span> <span class="s">"transfer"</span><span class="o">,</span>
    <span class="s">"type"</span><span class="o">:</span> <span class="s">"b2c"</span><span class="o">,</span>
    <span class="s">"created"</span><span class="o">:</span> <span class="mi">1432724825</span><span class="o">,</span>
    <span class="s">"time_transferred"</span><span class="o">:</span> <span class="kc">null</span><span class="o">,</span>
    <span class="s">"livemode"</span><span class="o">:</span> <span class="kc">true</span><span class="o">,</span>
    <span class="s">"status"</span><span class="o">:</span> <span class="s">"pending"</span><span class="o">,</span>
    <span class="s">"app"</span><span class="o">:</span> <span class="s">"app_1Gqj58ynP0mHeX1q"</span><span class="o">,</span>
    <span class="s">"channel"</span><span class="o">:</span> <span class="s">"wx_pub"</span><span class="o">,</span>
    <span class="s">"order_no"</span><span class="o">:</span> <span class="s">"123456789"</span><span class="o">,</span>
    <span class="s">"amount"</span><span class="o">:</span> <span class="mi">100</span><span class="o">,</span>
    <span class="s">"amount_settle"</span><span class="o">:</span> <span class="mi">100</span><span class="o">,</span>
    <span class="s">"currency"</span><span class="o">:</span> <span class="s">"cny"</span><span class="o">,</span>
    <span class="s">"recipient"</span><span class="o">:</span> <span class="s">"o7zpMs5MW2-52GAy5hRrjdYVCktU"</span><span class="o">,</span>
    <span class="s">"description"</span><span class="o">:</span> <span class="s">"Your Description"</span><span class="o">,</span>
    <span class="s">"transaction_no"</span><span class="o">:</span> <span class="s">"1000018301201505200184147302"</span><span class="o">,</span>
    <span class="s">"failure_msg"</span><span class="o">:</span><span class="kc">null</span><span class="o">,</span>
    <span class="s">"extra"</span><span class="o">:</span> <span class="o">{</span>
        <span class="s">"user_name"</span><span class="o">:</span> <span class="s">"User Name"</span><span class="o">,</span>
        <span class="s">"force_check"</span><span class="o">:</span> <span class="kc">true</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<pre class="highlight ruby"><code><span class="p">{</span>
    <span class="s2">"id"</span><span class="p">:</span> <span class="s2">"tr_HqbzHCvLOaL4La1ezHfDWTqH"</span><span class="p">,</span>
    <span class="s2">"object"</span><span class="p">:</span> <span class="s2">"transfer"</span><span class="p">,</span>
    <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"b2c"</span><span class="p">,</span>
    <span class="s2">"created"</span><span class="p">:</span> <span class="mi">1432724825</span><span class="p">,</span>
    <span class="s2">"time_transferred"</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
    <span class="s2">"livemode"</span><span class="p">:</span> <span class="kp">true</span><span class="p">,</span>
    <span class="s2">"status"</span><span class="p">:</span> <span class="s2">"pending"</span><span class="p">,</span>
    <span class="s2">"app"</span><span class="p">:</span> <span class="s2">"app_1Gqj58ynP0mHeX1q"</span><span class="p">,</span>
    <span class="s2">"channel"</span><span class="p">:</span> <span class="s2">"wx_pub"</span><span class="p">,</span>
    <span class="s2">"order_no"</span><span class="p">:</span> <span class="s2">"123456789"</span><span class="p">,</span>
    <span class="s2">"amount"</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
    <span class="s2">"amount_settle"</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
    <span class="s2">"currency"</span><span class="p">:</span> <span class="s2">"cny"</span><span class="p">,</span>
    <span class="s2">"recipient"</span><span class="p">:</span> <span class="s2">"o7zpMs5MW2-52GAy5hRrjdYVCktU"</span><span class="p">,</span>
    <span class="s2">"description"</span><span class="p">:</span> <span class="s2">"Your Description"</span><span class="p">,</span>
    <span class="s2">"transaction_no"</span><span class="p">:</span> <span class="s2">"1000018301201505200184147302"</span><span class="p">,</span>
    <span class="s2">"failure_msg"</span><span class="ss">:null</span><span class="p">,</span>
    <span class="s2">"extra"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"user_name"</span><span class="p">:</span> <span class="s2">"User Name"</span><span class="p">,</span>
        <span class="s2">"force_check"</span><span class="p">:</span> <span class="kp">true</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight plaintext"><code>{
    "id": "tr_HqbzHCvLOaL4La1ezHfDWTqH",
    "object": "transfer",
    "type": "b2c",
    "created": 1432724825,
    "time_transferred": null,
    "livemode": true,
    "status": "pending",
    "app": "app_1Gqj58ynP0mHeX1q",
    "channel": "wx_pub",
    "order_no": "123456789",
    "amount": 100,
    "amount_settle": 100,
    "currency": "cny",
    "recipient": "o7zpMs5MW2-52GAy5hRrjdYVCktU",
    "description": "Your Description",
    "transaction_no": "1000018301201505200184147302",
    "failure_msg":null,
    "extra": {
        "user_name": "User Name",
        "force_check": true
    }
}
</code></pre>
<pre class="highlight python"><code><span class="p">{</span>
    <span class="s">"id"</span><span class="p">:</span> <span class="s">"tr_HqbzHCvLOaL4La1ezHfDWTqH"</span><span class="p">,</span>
    <span class="s">"object"</span><span class="p">:</span> <span class="s">"transfer"</span><span class="p">,</span>
    <span class="s">"type"</span><span class="p">:</span> <span class="s">"b2c"</span><span class="p">,</span>
    <span class="s">"created"</span><span class="p">:</span> <span class="mi">1432724825</span><span class="p">,</span>
    <span class="s">"time_transferred"</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
    <span class="s">"livemode"</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s">"status"</span><span class="p">:</span> <span class="s">"pending"</span><span class="p">,</span>
    <span class="s">"app"</span><span class="p">:</span> <span class="s">"app_1Gqj58ynP0mHeX1q"</span><span class="p">,</span>
    <span class="s">"channel"</span><span class="p">:</span> <span class="s">"wx_pub"</span><span class="p">,</span>
    <span class="s">"order_no"</span><span class="p">:</span> <span class="s">"123456789"</span><span class="p">,</span>
    <span class="s">"amount"</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
    <span class="s">"amount_settle"</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
    <span class="s">"currency"</span><span class="p">:</span> <span class="s">"cny"</span><span class="p">,</span>
    <span class="s">"recipient"</span><span class="p">:</span> <span class="s">"o7zpMs5MW2-52GAy5hRrjdYVCktU"</span><span class="p">,</span>
    <span class="s">"description"</span><span class="p">:</span> <span class="s">"Your Description"</span><span class="p">,</span>
    <span class="s">"transaction_no"</span><span class="p">:</span> <span class="s">"1000018301201505200184147302"</span><span class="p">,</span>
    <span class="s">"failure_msg"</span><span class="p">:</span><span class="n">null</span><span class="p">,</span>
    <span class="s">"extra"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">"user_name"</span><span class="p">:</span> <span class="s">"User Name"</span><span class="p">,</span>
        <span class="s">"force_check"</span><span class="p">:</span> <span class="n">true</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight go"><code><span class="p">{</span><span class="x">
    </span><span class="s">"id"</span><span class="o">:</span><span class="x"> </span><span class="s">"tr_HqbzHCvLOaL4La1ezHfDWTqH"</span><span class="p">,</span><span class="x">
    </span><span class="s">"object"</span><span class="o">:</span><span class="x"> </span><span class="s">"transfer"</span><span class="p">,</span><span class="x">
    </span><span class="s">"type"</span><span class="o">:</span><span class="x"> </span><span class="s">"b2c"</span><span class="p">,</span><span class="x">
    </span><span class="s">"created"</span><span class="o">:</span><span class="x"> </span><span class="m">1432724825</span><span class="p">,</span><span class="x">
    </span><span class="s">"time_transferred"</span><span class="o">:</span><span class="x"> </span><span class="n">null</span><span class="p">,</span><span class="x">
    </span><span class="s">"livemode"</span><span class="o">:</span><span class="x"> </span><span class="no">true</span><span class="p">,</span><span class="x">
    </span><span class="s">"status"</span><span class="o">:</span><span class="x"> </span><span class="s">"pending"</span><span class="p">,</span><span class="x">
    </span><span class="s">"app"</span><span class="o">:</span><span class="x"> </span><span class="s">"app_1Gqj58ynP0mHeX1q"</span><span class="p">,</span><span class="x">
    </span><span class="s">"channel"</span><span class="o">:</span><span class="x"> </span><span class="s">"wx_pub"</span><span class="p">,</span><span class="x">
    </span><span class="s">"order_no"</span><span class="o">:</span><span class="x"> </span><span class="s">"123456789"</span><span class="p">,</span><span class="x">
    </span><span class="s">"amount"</span><span class="o">:</span><span class="x"> </span><span class="m">100</span><span class="p">,</span><span class="x">
    </span><span class="s">"amount_settle"</span><span class="o">:</span><span class="x"> </span><span class="m">100</span><span class="p">,</span><span class="x">
    </span><span class="s">"currency"</span><span class="o">:</span><span class="x"> </span><span class="s">"cny"</span><span class="p">,</span><span class="x">
    </span><span class="s">"recipient"</span><span class="o">:</span><span class="x"> </span><span class="s">"o7zpMs5MW2-52GAy5hRrjdYVCktU"</span><span class="p">,</span><span class="x">
    </span><span class="s">"description"</span><span class="o">:</span><span class="x"> </span><span class="s">"Your Description"</span><span class="p">,</span><span class="x">
    </span><span class="s">"transaction_no"</span><span class="o">:</span><span class="x"> </span><span class="s">"1000018301201505200184147302"</span><span class="p">,</span><span class="x">
    </span><span class="s">"failure_msg"</span><span class="o">:</span><span class="n">null</span><span class="p">,</span><span class="x">
    </span><span class="s">"extra"</span><span class="o">:</span><span class="x"> </span><span class="p">{</span><span class="x">
        </span><span class="s">"user_name"</span><span class="o">:</span><span class="x"> </span><span class="s">"User Name"</span><span class="p">,</span><span class="x">
        </span><span class="s">"force_check"</span><span class="o">:</span><span class="x"> </span><span class="no">true</span><span class="x">
    </span><span class="p">}</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre>
<pre class="highlight csharp"><code><span class="p">{</span>
    <span class="s">"id"</span><span class="p">:</span> <span class="s">"tr_HqbzHCvLOaL4La1ezHfDWTqH"</span><span class="p">,</span>
    <span class="s">"object"</span><span class="p">:</span> <span class="s">"transfer"</span><span class="p">,</span>
    <span class="s">"type"</span><span class="p">:</span> <span class="s">"b2c"</span><span class="p">,</span>
    <span class="s">"created"</span><span class="p">:</span> <span class="m">1432724825</span><span class="p">,</span>
    <span class="s">"time_transferred"</span><span class="p">:</span> <span class="k">null</span><span class="p">,</span>
    <span class="s">"livemode"</span><span class="p">:</span> <span class="k">true</span><span class="p">,</span>
    <span class="s">"status"</span><span class="p">:</span> <span class="s">"pending"</span><span class="p">,</span>
    <span class="s">"app"</span><span class="p">:</span> <span class="s">"app_1Gqj58ynP0mHeX1q"</span><span class="p">,</span>
    <span class="s">"channel"</span><span class="p">:</span> <span class="s">"wx_pub"</span><span class="p">,</span>
    <span class="s">"order_no"</span><span class="p">:</span> <span class="s">"123456789"</span><span class="p">,</span>
    <span class="s">"amount"</span><span class="p">:</span> <span class="m">100</span><span class="p">,</span>
    <span class="s">"amount_settle"</span><span class="p">:</span> <span class="m">100</span><span class="p">,</span>
    <span class="s">"currency"</span><span class="p">:</span> <span class="s">"cny"</span><span class="p">,</span>
    <span class="s">"recipient"</span><span class="p">:</span> <span class="s">"o7zpMs5MW2-52GAy5hRrjdYVCktU"</span><span class="p">,</span>
    <span class="s">"description"</span><span class="p">:</span> <span class="s">"Your Description"</span><span class="p">,</span>
    <span class="s">"transaction_no"</span><span class="p">:</span> <span class="s">"1000018301201505200184147302"</span><span class="p">,</span>
    <span class="s">"failure_msg"</span><span class="p">:</span><span class="k">null</span><span class="p">,</span>
    <span class="s">"extra"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">"user_name"</span><span class="p">:</span> <span class="s">"User Name"</span><span class="p">,</span>
        <span class="s">"force_check"</span><span class="p">:</span> <span class="k">true</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<h2 id="transfer">创建 Transfer 对象</h2>

<p>发起一次企业付款请求以创建一个新的 <code class="prettyprint">transfer</code> 对象。如果支付失败，请检查错误信息，一般是由于账户余额不足引起的。使用测试模式的 API Key，则不会发生真实交易。测试模式需要主动查询下 <code class="prettyprint">transfer</code> 的状态，才会发送 Webhooks 通知。<b style="color: #f15467;">注：渠道为unionpay时，强制要求签名（Pingplusplus-Signature），需在管理平台上配置商户公钥，但无须开启;unionpay渠道的转账会延时5分钟发送，5分钟内可以调用更新Transfer接口取消该笔转账。</b></p>

<h3 id="canshu">canshu</h3>

<table><thead>
<tr>
<th>参数</th>
<th>描述</th>
<th>是否可选</th>
</tr>
</thead><tbody>
<tr>
<td>app[id]</td>
<td>付款使用的 <code class="prettyprint">app</code> 对象的 <code class="prettyprint">id</code>。</td>
<td><strong>required</strong></td>
</tr>
<tr>
<td>channel</td>
<td>付款使用的第三方支付渠道。目前只支持 wx(新渠道)、wx_pub。</td>
<td><strong>required</strong></td>
</tr>
<tr>
<td>order_no</td>
<td>付款使用的商户订单号。wx(新渠道)、wx_pub 规定为 1 ~ 50 位一天内不能重复的数字。</td>
<td><strong>required</strong></td>
</tr>
<tr>
<td>amount</td>
<td>付款金额。单位为对应币种的最小货币单位，例如：<b style="color: #f15467;">人民币为分</b>。</td>
<td><strong>required</strong></td>
</tr>
<tr>
<td>type</td>
<td>付款类型。 当前仅支持 B2C 企业付款。</td>
<td><strong>required</strong></td>
</tr>
<tr>
<td>currency</td>
<td>三位 ISO 货币代码，目前仅支持人民币: cny。</td>
<td><strong>required</strong></td>
</tr>
<tr>
<td>recipient</td>
<td>接收者 id，为用户在 wx(新渠道)、wx_pub 为用户的 open id。</td>
<td><strong>required</strong></td>
</tr>
<tr>
<td>description</td>
<td>付款备注信息，最多 255 个 Unicode 字符。</td>
<td><strong>required</strong></td>
</tr>
<tr>
<td>extra</td>
<td>支付渠道相关的附加参数，参考<a href="#">extra参数说明</a>。</td>
<td><strong>object</strong></td>
</tr>
</tbody></table>

<h3 id="cextra">cextra参数说明</h3>

<table><thead>
<tr>
<th>参数</th>
<th>描述</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>wx(微信新渠道)</td>
<td>参数 <code class="prettyprint">user_name</code>[string] 收款人姓名。当该参数为空，则不校验收款人姓名</td>
<td><strong>optional</strong></td>
</tr>
<tr>
<td>wx(微信新渠道)</td>
<td>参数 force_check[boolean] 是否强制校验收款人姓名。仅当 user_name 参数不为空时该参数生效</td>
<td><strong>optional</strong></td>
</tr>
<tr>
<td>wx_pub(微信公众号)</td>
<td>参数 user_name[string] 收款人姓名。当该参数为空，则不校验收款人姓名</td>
<td><strong>optional</strong></td>
</tr>
<tr>
<td>wx_pub(微信公众号)</td>
<td>参数 force_check[boolean] 是否强制校验收款人姓名。仅当 user_name 参数不为空时该参数生效</td>
<td><strong>optional</strong></td>
</tr>
<tr>
<td>unionpay 企业付款（银行卡）</td>
<td>参数 card_number[string] 1~32位,收款人银行卡号或者存折号</td>
<td><strong>required</strong></td>
</tr>
</tbody></table>

<p>参数 user_name[string] 1~100位,收款人姓名，required
参数 open_bank[string] 1~50位,开户银行,required
参数 prov[string] 1～20位，省份,required
参数 city[string] 1～40位，城市,required
参数 term_type[string] 2位，企业付款（银行卡）业务使用场景, 07:互联网, 08:移动端,required
参数 sub_bank[string] 1～80位，开户支行名称,optional</p>

<h3 id="fanhui">fanhui</h3>

<p>同步返回付款支付结果。如果发生错误，则会返回错误码和错误详情，<a href="#api-errors">详见 Errors 错误处理机制</a>。</p>
<pre class="highlight plaintext"><code>  POST https://api.pingxx.com/v1/transfers
</code></pre>
<pre class="highlight php"><code>  \Pingpp\Transfer::create();
</code></pre>
<pre class="highlight java"><code>  <span class="n">Transfer</span><span class="o">.</span><span class="na">create</span><span class="o">();</span>
</code></pre>
<pre class="highlight ruby"><code>  <span class="no">Pingpp</span><span class="o">::</span><span class="n">transfers</span><span class="p">.</span><span class="nf">create</span><span class="p">()</span>
</code></pre>
<pre class="highlight plaintext"><code>  pingpp.transfers.create();
</code></pre>
<pre class="highlight python"><code>  <span class="n">pingpp</span><span class="o">.</span><span class="n">transfers</span><span class="o">.</span><span class="n">create</span><span class="p">();</span>
</code></pre>
<pre class="highlight go"><code><span class="x">  </span><span class="n">transfers</span><span class="o">.</span><span class="n">New</span><span class="p">()</span><span class="x">
</span></code></pre>
<pre class="highlight csharp"><code>  <span class="nf">create</span><span class="p">(</span><span class="n">Dictionary</span><span class="p">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">String</span><span class="p">,</span> <span class="n">Object</span><span class="p">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="k">params</span><span class="p">)</span>
</code></pre>
<pre class="highlight plaintext"><code>  curl https://api.pingxx.com/v1/transfers \
  -u sk_test_ibbTe5jLGCi5rzfH4OqPW9KC: \
  -d order_no=123456789 \
  -d app[id]=app_1Gqj58ynP0mHeX1q \
  -d channel=wx_pub \
  -d amount=100 \
  -d currency=cny \
  -d type=b2c \
  -d recipient=Openid \
  -d description="Your Description"
</code></pre>
<pre class="highlight php"><code>\Pingpp\Pingpp::setApiKey('sk_test_ibbTe5jLGCi5rzfH4OqPW9KC'); 

\Pingpp\Transfer::create(
    array(
        'order_no'    =<span class="ni">&amp;gt;</span> '123456789',
        'app'         =<span class="ni">&amp;gt;</span> array('id' =<span class="ni">&amp;gt;</span> 'app_1Gqj58ynP0mHeX1q'),
        'channel'     =<span class="ni">&amp;gt;</span> 'wx_pub',
        'amount'      =<span class="ni">&amp;gt;</span> 100,
        'currency'    =<span class="ni">&amp;gt;</span> 'cny',
        'type'        =<span class="ni">&amp;gt;</span> 'b2c',
        'recipient'   =<span class="ni">&amp;gt;</span> 'Openid',
        'description' =<span class="ni">&amp;gt;</span> 'Your Description'
    )
);
</code></pre>
<pre class="highlight java"><code><span class="n">Pingpp</span><span class="o">.</span><span class="na">apiKey</span> <span class="o">=</span> <span class="s">"sk_test_ibbTe5jLGCi5rzfH4OqPW9KC"</span><span class="o">;</span>

<span class="n">Map</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="n">transfer</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&amp;</span><span class="n">gt</span><span class="o">;();</span>
<span class="n">transfer</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"amount"</span><span class="o">,</span> <span class="mi">100</span><span class="o">);</span>
<span class="n">transfer</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"currency"</span><span class="o">,</span> <span class="s">"cny"</span><span class="o">);</span>
<span class="n">transfer</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"type"</span><span class="o">,</span>  <span class="s">"b2c"</span><span class="o">);</span>
<span class="n">transfer</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"order_no"</span><span class="o">,</span>  <span class="s">"123456789"</span><span class="o">);</span>
<span class="n">transfer</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"channel"</span><span class="o">,</span>  <span class="s">"wx_pub"</span><span class="o">);</span>
<span class="n">transfer</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"recipient"</span><span class="o">,</span> <span class="s">"Openid"</span><span class="o">);</span>
<span class="n">transfer</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"description"</span><span class="o">,</span> <span class="s">"Your Description"</span><span class="o">);</span>
<span class="n">Map</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="n">app</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&amp;</span><span class="n">gt</span><span class="o">;();</span>
<span class="n">app</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"id"</span><span class="o">,</span> <span class="s">"app_1Gqj58ynP0mHeX1q"</span><span class="o">);</span>
<span class="n">transfer</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"app"</span><span class="o">,</span> <span class="n">app</span><span class="o">);</span>
<span class="n">Transfer</span> <span class="n">transfer</span> <span class="o">=</span> <span class="n">Transfer</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">transfer</span><span class="o">);</span>
</code></pre>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s2">"pingpp"</span>
<span class="no">Pingpp</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s2">"sk_test_ibbTe5jLGCi5rzfH4OqPW9KC"</span>
<span class="no">Pingpp</span><span class="o">::</span><span class="no">Transfer</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span>
  <span class="ss">:amount</span>   <span class="o">=&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="mi">100</span><span class="p">,</span>
  <span class="ss">:order_no</span> <span class="o">=&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="s2">"123456789"</span><span class="p">,</span>
  <span class="ss">:channel</span>  <span class="o">=&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="s2">"wx_pub"</span><span class="p">,</span>
  <span class="ss">:currency</span> <span class="o">=&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="s2">"cny"</span><span class="p">,</span>
  <span class="ss">:type</span><span class="o">=&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="s1">'b2c'</span><span class="p">,</span>
  <span class="ss">:app</span> <span class="o">=&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="p">{</span><span class="ss">:id</span> <span class="o">=&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="s2">"app_1Gqj58ynP0mHeX1q"</span><span class="p">},</span>
  <span class="ss">:recipient</span>  <span class="o">=&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="s2">"Openid"</span><span class="p">,</span>
  <span class="ss">:description</span> <span class="o">=&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="s2">"Your Description"</span>
<span class="p">)</span>
</code></pre>
<pre class="highlight plaintext"><code>var pingpp = require('pingpp')('sk_test_ibbTe5jLGCi5rzfH4OqPW9KC');
pingpp.transfers.create({
  order_no:    "123456789",
  app:         { id: "app_1Gqj58ynP0mHeX1q" },
  channel:     "wx_pub",
  amount:      100,
  currency:    "cny",
  type:        "b2c",
  recipient:   "Openid",
  description: "Your Description"
}, function(err, transfer) {
  // YOUR CODE
});
</code></pre>
<pre class="highlight python"><code>  <span class="n">tr</span> <span class="o">=</span> <span class="n">pingpp</span><span class="o">.</span><span class="n">Transfer</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
    <span class="n">order_no</span><span class="o">=</span><span class="s">'123456789'</span><span class="p">,</span>
    <span class="n">channel</span><span class="o">=</span><span class="s">'wx_pub'</span><span class="p">,</span>
    <span class="n">amount</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
    <span class="nb">type</span><span class="o">=</span><span class="s">'b2c'</span><span class="p">,</span>
    <span class="n">currency</span><span class="o">=</span><span class="s">'cny'</span><span class="p">,</span>
    <span class="n">app</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s">'app_1Gqj58ynP0mHeX1q'</span><span class="p">),</span>
    <span class="n">recipient</span><span class="o">=</span><span class="s">'Openid'</span><span class="p">,</span>
    <span class="n">description</span><span class="o">=</span><span class="s">'Your Description'</span>
  <span class="p">)</span>
</code></pre>
<pre class="highlight go"><code><span class="x">  </span><span class="n">params</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span><span class="n">pingpp</span><span class="o">.</span><span class="n">TransferParams</span><span class="p">{</span><span class="x">
    </span><span class="n">Order_no</span><span class="o">:</span><span class="x">    </span><span class="s">"123456789"</span><span class="p">,</span><span class="x">
    </span><span class="n">App</span><span class="o">:</span><span class="x">         </span><span class="n">pingpp</span><span class="o">.</span><span class="n">App</span><span class="p">{</span><span class="n">Id</span><span class="o">:</span><span class="x"> </span><span class="s">"app_1Gqj58ynP0mHeX1q"</span><span class="p">},</span><span class="x">
    </span><span class="n">Amount</span><span class="o">:</span><span class="x">      </span><span class="m">100</span><span class="p">,</span><span class="x">
    </span><span class="n">Channel</span><span class="o">:</span><span class="x">     </span><span class="s">"wx_pub"</span><span class="p">,</span><span class="x">
    </span><span class="n">Currency</span><span class="o">:</span><span class="x">    </span><span class="s">"cny"</span><span class="p">,</span><span class="x">
    </span><span class="n">Type</span><span class="o">:</span><span class="x">        </span><span class="s">"b2c"</span><span class="p">,</span><span class="x">
    </span><span class="n">Recipient</span><span class="o">:</span><span class="x">   </span><span class="s">"Openid"</span><span class="p">,</span><span class="x">
    </span><span class="n">Description</span><span class="o">:</span><span class="x"> </span><span class="s">"Your Description"</span><span class="p">,</span><span class="x">
  </span><span class="p">}</span><span class="x">
  </span><span class="n">transfer</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">transfer</span><span class="o">.</span><span class="n">New</span><span class="p">(</span><span class="n">params</span><span class="p">)</span><span class="x">
</span></code></pre>
<pre class="highlight csharp"><code>    <span class="n">Dictionary</span><span class="p">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">String</span><span class="p">,</span> <span class="n">String</span><span class="p">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">app</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">String</span><span class="p">,</span> <span class="n">String</span><span class="p">&amp;</span><span class="n">gt</span><span class="p">;();</span>
    <span class="n">app</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"id"</span><span class="p">,</span> <span class="s">"app_1Gqj58ynP0mHeX1q"</span><span class="p">);</span>
    <span class="n">Dictionary</span><span class="p">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">String</span><span class="p">,</span> <span class="n">String</span><span class="p">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">extra</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">String</span><span class="p">,</span> <span class="n">String</span><span class="p">&amp;</span><span class="n">gt</span><span class="p">;();</span>
    <span class="n">extra</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"user_name"</span><span class="p">,</span> <span class="s">"user name"</span><span class="p">);</span>
    <span class="n">extra</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"force_check"</span><span class="p">,</span> <span class="k">false</span><span class="p">);</span>
    <span class="n">Dictionary</span><span class="p">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">String</span><span class="p">,</span> <span class="n">Object</span><span class="p">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="k">params</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">String</span><span class="p">,</span> <span class="n">Object</span><span class="p">&amp;</span><span class="n">gt</span><span class="p">;();</span>
    <span class="k">params</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"order_no"</span><span class="p">,</span> <span class="s">"1234567890"</span><span class="p">);</span>
    <span class="k">params</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"amount"</span><span class="p">,</span> <span class="m">100</span><span class="p">);</span>
    <span class="k">params</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"channel"</span><span class="p">,</span> <span class="s">"wx_pub"</span><span class="p">);</span>
    <span class="k">params</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"currency"</span><span class="p">,</span> <span class="s">"cny"</span><span class="p">);</span>
    <span class="k">params</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"type"</span><span class="p">,</span> <span class="s">"b2c"</span><span class="p">);</span>
    <span class="k">params</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"recipient"</span><span class="p">,</span> <span class="s">"Your OpenId"</span><span class="p">);</span>
    <span class="k">params</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"description"</span><span class="p">,</span> <span class="s">"Your Description"</span><span class="p">);</span>
    <span class="k">params</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"app"</span><span class="p">,</span> <span class="n">app</span><span class="p">);</span>
    <span class="k">params</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"extra"</span><span class="p">,</span> <span class="n">extra</span><span class="p">);</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="n">Transfer</span> <span class="n">tra</span> <span class="p">=</span> <span class="n">Transfer</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span><span class="k">params</span><span class="p">);</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">tra</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">Exception</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">Message</span><span class="p">.</span><span class="nf">ToString</span><span class="p">());</span>
    <span class="p">}</span>
</code></pre>
<pre class="highlight plaintext"><code>{
    "id": "tr_HqbzHCvLOaL4La1ezHfDWTqH",
    "object": "transfer",
    "type": "b2c",
    "created": 1432724825,
    "time_transferred": null,
    "livemode": true,
    "status": "pending",
    "app": "app_1Gqj58ynP0mHeX1q",
    "channel": "wx_pub",
    "order_no": "123456789",
    "amount": 100,
    "amount_settle": 100,
    "currency": "cny",
    "recipient": "o7zpMs5MW2-52GAy5hRrjdYVCktU",
    "description": "Your Description",
    "transaction_no": "1000018301201505200184147302",
    "failure_msg":null,
    "extra": {
        "user_name": "User Name",
        "force_check": true
    }
}
</code></pre>
<pre class="highlight php"><code>{
    "id": "tr_HqbzHCvLOaL4La1ezHfDWTqH",
    "object": "transfer",
    "type": "b2c",
    "created": 1432724825,
    "time_transferred": null,
    "livemode": true,
    "status": "pending",
    "app": "app_1Gqj58ynP0mHeX1q",
    "channel": "wx_pub",
    "order_no": "123456789",
    "amount": 100,
    "amount_settle": 100,
    "currency": "cny",
    "recipient": "o7zpMs5MW2-52GAy5hRrjdYVCktU",
    "description": "Your Description",
    "transaction_no": "1000018301201505200184147302",
    "failure_msg":null,
    "extra": {
        "user_name": "User Name",
        "force_check": true
    }
}
</code></pre>
<pre class="highlight java"><code><span class="o">{</span>
    <span class="s">"id"</span><span class="o">:</span> <span class="s">"tr_HqbzHCvLOaL4La1ezHfDWTqH"</span><span class="o">,</span>
    <span class="s">"object"</span><span class="o">:</span> <span class="s">"transfer"</span><span class="o">,</span>
    <span class="s">"type"</span><span class="o">:</span> <span class="s">"b2c"</span><span class="o">,</span>
    <span class="s">"created"</span><span class="o">:</span> <span class="mi">1432724825</span><span class="o">,</span>
    <span class="s">"time_transferred"</span><span class="o">:</span> <span class="kc">null</span><span class="o">,</span>
    <span class="s">"livemode"</span><span class="o">:</span> <span class="kc">true</span><span class="o">,</span>
    <span class="s">"status"</span><span class="o">:</span> <span class="s">"pending"</span><span class="o">,</span>
    <span class="s">"app"</span><span class="o">:</span> <span class="s">"app_1Gqj58ynP0mHeX1q"</span><span class="o">,</span>
    <span class="s">"channel"</span><span class="o">:</span> <span class="s">"wx_pub"</span><span class="o">,</span>
    <span class="s">"order_no"</span><span class="o">:</span> <span class="s">"123456789"</span><span class="o">,</span>
    <span class="s">"amount"</span><span class="o">:</span> <span class="mi">100</span><span class="o">,</span>
    <span class="s">"amount_settle"</span><span class="o">:</span> <span class="mi">100</span><span class="o">,</span>
    <span class="s">"currency"</span><span class="o">:</span> <span class="s">"cny"</span><span class="o">,</span>
    <span class="s">"recipient"</span><span class="o">:</span> <span class="s">"o7zpMs5MW2-52GAy5hRrjdYVCktU"</span><span class="o">,</span>
    <span class="s">"description"</span><span class="o">:</span> <span class="s">"Your Description"</span><span class="o">,</span>
    <span class="s">"transaction_no"</span><span class="o">:</span> <span class="s">"1000018301201505200184147302"</span><span class="o">,</span>
    <span class="s">"failure_msg"</span><span class="o">:</span><span class="kc">null</span><span class="o">,</span>
    <span class="s">"extra"</span><span class="o">:</span> <span class="o">{</span>
        <span class="s">"user_name"</span><span class="o">:</span> <span class="s">"User Name"</span><span class="o">,</span>
        <span class="s">"force_check"</span><span class="o">:</span> <span class="kc">true</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<pre class="highlight ruby"><code><span class="p">{</span>
    <span class="s2">"id"</span><span class="p">:</span> <span class="s2">"tr_HqbzHCvLOaL4La1ezHfDWTqH"</span><span class="p">,</span>
    <span class="s2">"object"</span><span class="p">:</span> <span class="s2">"transfer"</span><span class="p">,</span>
    <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"b2c"</span><span class="p">,</span>
    <span class="s2">"created"</span><span class="p">:</span> <span class="mi">1432724825</span><span class="p">,</span>
    <span class="s2">"time_transferred"</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
    <span class="s2">"livemode"</span><span class="p">:</span> <span class="kp">true</span><span class="p">,</span>
    <span class="s2">"status"</span><span class="p">:</span> <span class="s2">"pending"</span><span class="p">,</span>
    <span class="s2">"app"</span><span class="p">:</span> <span class="s2">"app_1Gqj58ynP0mHeX1q"</span><span class="p">,</span>
    <span class="s2">"channel"</span><span class="p">:</span> <span class="s2">"wx_pub"</span><span class="p">,</span>
    <span class="s2">"order_no"</span><span class="p">:</span> <span class="s2">"123456789"</span><span class="p">,</span>
    <span class="s2">"amount"</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
    <span class="s2">"amount_settle"</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
    <span class="s2">"currency"</span><span class="p">:</span> <span class="s2">"cny"</span><span class="p">,</span>
    <span class="s2">"recipient"</span><span class="p">:</span> <span class="s2">"o7zpMs5MW2-52GAy5hRrjdYVCktU"</span><span class="p">,</span>
    <span class="s2">"description"</span><span class="p">:</span> <span class="s2">"Your Description"</span><span class="p">,</span>
    <span class="s2">"transaction_no"</span><span class="p">:</span> <span class="s2">"1000018301201505200184147302"</span><span class="p">,</span>
    <span class="s2">"failure_msg"</span><span class="ss">:null</span><span class="p">,</span>
    <span class="s2">"extra"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"user_name"</span><span class="p">:</span> <span class="s2">"User Name"</span><span class="p">,</span>
        <span class="s2">"force_check"</span><span class="p">:</span> <span class="kp">true</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight plaintext"><code>{
    "id": "tr_HqbzHCvLOaL4La1ezHfDWTqH",
    "object": "transfer",
    "type": "b2c",
    "created": 1432724825,
    "time_transferred": null,
    "livemode": true,
    "status": "pending",
    "app": "app_1Gqj58ynP0mHeX1q",
    "channel": "wx_pub",
    "order_no": "123456789",
    "amount": 100,
    "amount_settle": 100,
    "currency": "cny",
    "recipient": "o7zpMs5MW2-52GAy5hRrjdYVCktU",
    "description": "Your Description",
    "transaction_no": "1000018301201505200184147302",
    "failure_msg":null,
    "extra": {
        "user_name": "User Name",
        "force_check": true
    }
}
</code></pre>
<pre class="highlight python"><code><span class="p">{</span>
    <span class="s">"id"</span><span class="p">:</span> <span class="s">"tr_HqbzHCvLOaL4La1ezHfDWTqH"</span><span class="p">,</span>
    <span class="s">"object"</span><span class="p">:</span> <span class="s">"transfer"</span><span class="p">,</span>
    <span class="s">"type"</span><span class="p">:</span> <span class="s">"b2c"</span><span class="p">,</span>
    <span class="s">"created"</span><span class="p">:</span> <span class="mi">1432724825</span><span class="p">,</span>
    <span class="s">"time_transferred"</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
    <span class="s">"livemode"</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s">"status"</span><span class="p">:</span> <span class="s">"pending"</span><span class="p">,</span>
    <span class="s">"app"</span><span class="p">:</span> <span class="s">"app_1Gqj58ynP0mHeX1q"</span><span class="p">,</span>
    <span class="s">"channel"</span><span class="p">:</span> <span class="s">"wx_pub"</span><span class="p">,</span>
    <span class="s">"order_no"</span><span class="p">:</span> <span class="s">"123456789"</span><span class="p">,</span>
    <span class="s">"amount"</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
    <span class="s">"amount_settle"</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
    <span class="s">"currency"</span><span class="p">:</span> <span class="s">"cny"</span><span class="p">,</span>
    <span class="s">"recipient"</span><span class="p">:</span> <span class="s">"o7zpMs5MW2-52GAy5hRrjdYVCktU"</span><span class="p">,</span>
    <span class="s">"description"</span><span class="p">:</span> <span class="s">"Your Description"</span><span class="p">,</span>
    <span class="s">"transaction_no"</span><span class="p">:</span> <span class="s">"1000018301201505200184147302"</span><span class="p">,</span>
    <span class="s">"failure_msg"</span><span class="p">:</span><span class="n">null</span><span class="p">,</span>
    <span class="s">"extra"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">"user_name"</span><span class="p">:</span> <span class="s">"User Name"</span><span class="p">,</span>
        <span class="s">"force_check"</span><span class="p">:</span> <span class="n">true</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight go"><code><span class="p">{</span><span class="x">
    </span><span class="s">"id"</span><span class="o">:</span><span class="x"> </span><span class="s">"tr_HqbzHCvLOaL4La1ezHfDWTqH"</span><span class="p">,</span><span class="x">
    </span><span class="s">"object"</span><span class="o">:</span><span class="x"> </span><span class="s">"transfer"</span><span class="p">,</span><span class="x">
    </span><span class="s">"type"</span><span class="o">:</span><span class="x"> </span><span class="s">"b2c"</span><span class="p">,</span><span class="x">
    </span><span class="s">"created"</span><span class="o">:</span><span class="x"> </span><span class="m">1432724825</span><span class="p">,</span><span class="x">
    </span><span class="s">"time_transferred"</span><span class="o">:</span><span class="x"> </span><span class="n">null</span><span class="p">,</span><span class="x">
    </span><span class="s">"livemode"</span><span class="o">:</span><span class="x"> </span><span class="no">true</span><span class="p">,</span><span class="x">
    </span><span class="s">"status"</span><span class="o">:</span><span class="x"> </span><span class="s">"pending"</span><span class="p">,</span><span class="x">
    </span><span class="s">"app"</span><span class="o">:</span><span class="x"> </span><span class="s">"app_1Gqj58ynP0mHeX1q"</span><span class="p">,</span><span class="x">
    </span><span class="s">"channel"</span><span class="o">:</span><span class="x"> </span><span class="s">"wx_pub"</span><span class="p">,</span><span class="x">
    </span><span class="s">"order_no"</span><span class="o">:</span><span class="x"> </span><span class="s">"123456789"</span><span class="p">,</span><span class="x">
    </span><span class="s">"amount"</span><span class="o">:</span><span class="x"> </span><span class="m">100</span><span class="p">,</span><span class="x">
    </span><span class="s">"amount_settle"</span><span class="o">:</span><span class="x"> </span><span class="m">100</span><span class="p">,</span><span class="x">
    </span><span class="s">"currency"</span><span class="o">:</span><span class="x"> </span><span class="s">"cny"</span><span class="p">,</span><span class="x">
    </span><span class="s">"recipient"</span><span class="o">:</span><span class="x"> </span><span class="s">"o7zpMs5MW2-52GAy5hRrjdYVCktU"</span><span class="p">,</span><span class="x">
    </span><span class="s">"description"</span><span class="o">:</span><span class="x"> </span><span class="s">"Your Description"</span><span class="p">,</span><span class="x">
    </span><span class="s">"transaction_no"</span><span class="o">:</span><span class="x"> </span><span class="s">"1000018301201505200184147302"</span><span class="p">,</span><span class="x">
    </span><span class="s">"failure_msg"</span><span class="o">:</span><span class="n">null</span><span class="p">,</span><span class="x">
    </span><span class="s">"extra"</span><span class="o">:</span><span class="x"> </span><span class="p">{</span><span class="x">
        </span><span class="s">"user_name"</span><span class="o">:</span><span class="x"> </span><span class="s">"User Name"</span><span class="p">,</span><span class="x">
        </span><span class="s">"force_check"</span><span class="o">:</span><span class="x"> </span><span class="no">true</span><span class="x">
    </span><span class="p">}</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre>
<pre class="highlight csharp"><code><span class="p">{</span>
    <span class="s">"id"</span><span class="p">:</span> <span class="s">"tr_HqbzHCvLOaL4La1ezHfDWTqH"</span><span class="p">,</span>
    <span class="s">"object"</span><span class="p">:</span> <span class="s">"transfer"</span><span class="p">,</span>
    <span class="s">"type"</span><span class="p">:</span> <span class="s">"b2c"</span><span class="p">,</span>
    <span class="s">"created"</span><span class="p">:</span> <span class="m">1432724825</span><span class="p">,</span>
    <span class="s">"time_transferred"</span><span class="p">:</span> <span class="k">null</span><span class="p">,</span>
    <span class="s">"livemode"</span><span class="p">:</span> <span class="k">true</span><span class="p">,</span>
    <span class="s">"status"</span><span class="p">:</span> <span class="s">"pending"</span><span class="p">,</span>
    <span class="s">"app"</span><span class="p">:</span> <span class="s">"app_1Gqj58ynP0mHeX1q"</span><span class="p">,</span>
    <span class="s">"channel"</span><span class="p">:</span> <span class="s">"wx_pub"</span><span class="p">,</span>
    <span class="s">"order_no"</span><span class="p">:</span> <span class="s">"123456789"</span><span class="p">,</span>
    <span class="s">"amount"</span><span class="p">:</span> <span class="m">100</span><span class="p">,</span>
    <span class="s">"amount_settle"</span><span class="p">:</span> <span class="m">100</span><span class="p">,</span>
    <span class="s">"currency"</span><span class="p">:</span> <span class="s">"cny"</span><span class="p">,</span>
    <span class="s">"recipient"</span><span class="p">:</span> <span class="s">"o7zpMs5MW2-52GAy5hRrjdYVCktU"</span><span class="p">,</span>
    <span class="s">"description"</span><span class="p">:</span> <span class="s">"Your Description"</span><span class="p">,</span>
    <span class="s">"transaction_no"</span><span class="p">:</span> <span class="s">"1000018301201505200184147302"</span><span class="p">,</span>
    <span class="s">"failure_msg"</span><span class="p">:</span><span class="k">null</span><span class="p">,</span>
    <span class="s">"extra"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">"user_name"</span><span class="p">:</span> <span class="s">"User Name"</span><span class="p">,</span>
        <span class="s">"force_check"</span><span class="p">:</span> <span class="k">true</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<h2 id="transfer">查询 Transfer 对象</h2>

<p>通过 <code class="prettyprint">transfer</code> 对象的 id 查询一个已创建的 <code class="prettyprint">transfer</code> 对象。</p>

<h3 id="canshu">canshu</h3>

<table><thead>
<tr>
<th>参数</th>
<th>描述</th>
<th>是否可选</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>付款对象 id。</td>
<td><strong>required</strong></td>
</tr>
</tbody></table>

<h3 id="fanhui">fanhui</h3>

<p>返回一个已存在的 <code class="prettyprint">transfer</code> 对象或者一个错误，<a href="#api-errors">详见 Errors 错误处理机制</a>。</p>
<pre class="highlight plaintext"><code>  GET https://api.pingxx.com/v1/transfers/{TRANSFER_ID}
</code></pre>
<pre class="highlight php"><code>  \Pingpp\Transfer::retrieve('TRANSFER_ID');
</code></pre>
<pre class="highlight java"><code>  <span class="n">Transfer</span><span class="o">.</span><span class="na">retrieve</span><span class="o">({</span><span class="n">TRANSFER_ID</span><span class="o">});</span>
</code></pre>
<pre class="highlight ruby"><code>  <span class="no">Pingpp</span><span class="o">::</span><span class="no">Transfer</span><span class="p">.</span><span class="nf">retrieve</span><span class="p">({</span><span class="no">TRANSFER_ID</span><span class="p">})</span>
</code></pre>
<pre class="highlight plaintext"><code>  pingpp.transfers.retrieve({TRANSFER_ID});
</code></pre>
<pre class="highlight python"><code>  <span class="n">pingpp</span><span class="o">.</span><span class="n">Transfer</span><span class="o">.</span><span class="n">retrieve</span><span class="p">(</span><span class="s">'TRANSFER_ID'</span><span class="p">)</span>
</code></pre>
<pre class="highlight go"><code><span class="x">  </span><span class="n">transfer</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">transfer</span><span class="o">.</span><span class="n">Get</span><span class="p">(</span><span class="s">"TRANSFER_ID"</span><span class="p">)</span><span class="x">
</span></code></pre>
<pre class="highlight csharp"><code>  <span class="nf">retrieve</span><span class="p">(</span><span class="n">String</span> <span class="n">id</span><span class="p">)</span>
</code></pre>
<pre class="highlight plaintext"><code>  curl https://api.pingxx.com/v1/transfers/tr_HqbzHCvLOaL4La1ezHfDWTqH \
  -u sk_test_ibbTe5jLGCi5rzfH4OqPW9KC:
</code></pre>
<pre class="highlight php"><code>  \Pingpp\Pingpp::setApiKey('sk_test_ibbTe5jLGCi5rzfH4OqPW9KC');

  \Pingpp\Transfer::retrieve('tr_HqbzHCvLOaL4La1ezHfDWTqH');
</code></pre>
<pre class="highlight java"><code>  <span class="n">Pingpp</span><span class="o">.</span><span class="na">apiKey</span> <span class="o">=</span> <span class="s">"sk_test_ibbTe5jLGCi5rzfH4OqPW9KC"</span><span class="o">;</span>

  <span class="n">Transfer</span><span class="o">.</span><span class="na">retrieve</span><span class="o">(</span><span class="s">"tr_HqbzHCvLOaL4La1ezHfDWTqH"</span><span class="o">);</span>
</code></pre>
<pre class="highlight ruby"><code>  <span class="nb">require</span> <span class="s2">"pingpp"</span>
  <span class="no">Pingpp</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s2">"sk_test_ibbTe5jLGCi5rzfH4OqPW9KC"</span>
  <span class="no">Pingpp</span><span class="o">::</span><span class="no">Transfer</span><span class="p">.</span><span class="nf">retrieve</span><span class="p">(</span><span class="s2">"tr_HqbzHCvLOaL4La1ezHfDWTqH"</span><span class="p">)</span>
</code></pre>
<pre class="highlight plaintext"><code>  var pingpp = require('pingpp')('sk_test_ibbTe5jLGCi5rzfH4OqPW9KC');
  pingpp.transfers.retrieve(
    "tr_HqbzHCvLOaL4La1ezHfDWTqH",
    function(err, transfer) {
      // YOUR CODE
    }
  );
</code></pre>
<pre class="highlight python"><code>  <span class="kn">import</span> <span class="nn">pingpp</span>
  <span class="n">pingpp</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'sk_test_ibbTe5jLGCi5rzfH4OqPW9KC'</span>
  <span class="n">pingpp</span><span class="o">.</span><span class="n">Transfer</span><span class="o">.</span><span class="n">retrieve</span><span class="p">(</span><span class="s">'tr_HqbzHCvLOaL4La1ezHfDWTqH'</span><span class="p">)</span>
</code></pre>
<pre class="highlight go"><code><span class="x">  </span><span class="n">pingpp</span><span class="o">.</span><span class="n">Key</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="s">"sk_test_ibbTe5jLGCi5rzfH4OqPW9KC"</span><span class="x">
  </span><span class="n">transfer</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">transfer</span><span class="o">.</span><span class="n">Get</span><span class="p">(</span><span class="s">"tr_HqbzHCvLOaL4La1ezHfDWTqH"</span><span class="p">)</span><span class="x">
</span></code></pre>
<pre class="highlight csharp"><code>    <span class="k">try</span> <span class="p">{</span>
        <span class="n">Transfer</span> <span class="n">tr</span> <span class="p">=</span> <span class="n">Transfer</span><span class="p">.</span><span class="nf">retrieve</span><span class="p">(</span><span class="s">"evt_lqVSy5gbL0A68pS8YKvJzdWZ"</span><span class="p">);</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">tr</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">Exception</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">Message</span><span class="p">.</span><span class="nf">ToString</span><span class="p">());</span>
    <span class="p">}</span>
</code></pre>
<pre class="highlight plaintext"><code>{
    "id": "tr_HqbzHCvLOaL4La1ezHfDWTqH",
    "object": "transfer",
    "type": "b2c",
    "created": 1432724825,
    "time_transferred": null,
    "livemode": true,
    "status": "pending",
    "app": "app_1Gqj58ynP0mHeX1q",
    "channel": "wx_pub",
    "order_no": "123456789",
    "amount": 100,
    "amount_settle": 100,
    "currency": "cny",
    "recipient": "o7zpMs5MW2-52GAy5hRrjdYVCktU",
    "description": "Your Description",
    "transaction_no": "1000018301201505200184147302",
    "failure_msg":null,
    "extra": {
        "user_name": "User Name",
        "force_check": true
    }
}
</code></pre>
<pre class="highlight php"><code>{
    "id": "tr_HqbzHCvLOaL4La1ezHfDWTqH",
    "object": "transfer",
    "type": "b2c",
    "created": 1432724825,
    "time_transferred": null,
    "livemode": true,
    "status": "pending",
    "app": "app_1Gqj58ynP0mHeX1q",
    "channel": "wx_pub",
    "order_no": "123456789",
    "amount": 100,
    "amount_settle": 100,
    "currency": "cny",
    "recipient": "o7zpMs5MW2-52GAy5hRrjdYVCktU",
    "description": "Your Description",
    "transaction_no": "1000018301201505200184147302",
    "failure_msg":null,
    "extra": {
        "user_name": "User Name",
        "force_check": true
    }
}
</code></pre>
<pre class="highlight java"><code><span class="o">{</span>
    <span class="s">"id"</span><span class="o">:</span> <span class="s">"tr_HqbzHCvLOaL4La1ezHfDWTqH"</span><span class="o">,</span>
    <span class="s">"object"</span><span class="o">:</span> <span class="s">"transfer"</span><span class="o">,</span>
    <span class="s">"type"</span><span class="o">:</span> <span class="s">"b2c"</span><span class="o">,</span>
    <span class="s">"created"</span><span class="o">:</span> <span class="mi">1432724825</span><span class="o">,</span>
    <span class="s">"time_transferred"</span><span class="o">:</span> <span class="kc">null</span><span class="o">,</span>
    <span class="s">"livemode"</span><span class="o">:</span> <span class="kc">true</span><span class="o">,</span>
    <span class="s">"status"</span><span class="o">:</span> <span class="s">"pending"</span><span class="o">,</span>
    <span class="s">"app"</span><span class="o">:</span> <span class="s">"app_1Gqj58ynP0mHeX1q"</span><span class="o">,</span>
    <span class="s">"channel"</span><span class="o">:</span> <span class="s">"wx_pub"</span><span class="o">,</span>
    <span class="s">"order_no"</span><span class="o">:</span> <span class="s">"123456789"</span><span class="o">,</span>
    <span class="s">"amount"</span><span class="o">:</span> <span class="mi">100</span><span class="o">,</span>
    <span class="s">"amount_settle"</span><span class="o">:</span> <span class="mi">100</span><span class="o">,</span>
    <span class="s">"currency"</span><span class="o">:</span> <span class="s">"cny"</span><span class="o">,</span>
    <span class="s">"recipient"</span><span class="o">:</span> <span class="s">"o7zpMs5MW2-52GAy5hRrjdYVCktU"</span><span class="o">,</span>
    <span class="s">"description"</span><span class="o">:</span> <span class="s">"Your Description"</span><span class="o">,</span>
    <span class="s">"transaction_no"</span><span class="o">:</span> <span class="s">"1000018301201505200184147302"</span><span class="o">,</span>
    <span class="s">"failure_msg"</span><span class="o">:</span><span class="kc">null</span><span class="o">,</span>
    <span class="s">"extra"</span><span class="o">:</span> <span class="o">{</span>
        <span class="s">"user_name"</span><span class="o">:</span> <span class="s">"User Name"</span><span class="o">,</span>
        <span class="s">"force_check"</span><span class="o">:</span> <span class="kc">true</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<pre class="highlight ruby"><code><span class="p">{</span>
    <span class="s2">"id"</span><span class="p">:</span> <span class="s2">"tr_HqbzHCvLOaL4La1ezHfDWTqH"</span><span class="p">,</span>
    <span class="s2">"object"</span><span class="p">:</span> <span class="s2">"transfer"</span><span class="p">,</span>
    <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"b2c"</span><span class="p">,</span>
    <span class="s2">"created"</span><span class="p">:</span> <span class="mi">1432724825</span><span class="p">,</span>
    <span class="s2">"time_transferred"</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
    <span class="s2">"livemode"</span><span class="p">:</span> <span class="kp">true</span><span class="p">,</span>
    <span class="s2">"status"</span><span class="p">:</span> <span class="s2">"pending"</span><span class="p">,</span>
    <span class="s2">"app"</span><span class="p">:</span> <span class="s2">"app_1Gqj58ynP0mHeX1q"</span><span class="p">,</span>
    <span class="s2">"channel"</span><span class="p">:</span> <span class="s2">"wx_pub"</span><span class="p">,</span>
    <span class="s2">"order_no"</span><span class="p">:</span> <span class="s2">"123456789"</span><span class="p">,</span>
    <span class="s2">"amount"</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
    <span class="s2">"amount_settle"</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
    <span class="s2">"currency"</span><span class="p">:</span> <span class="s2">"cny"</span><span class="p">,</span>
    <span class="s2">"recipient"</span><span class="p">:</span> <span class="s2">"o7zpMs5MW2-52GAy5hRrjdYVCktU"</span><span class="p">,</span>
    <span class="s2">"description"</span><span class="p">:</span> <span class="s2">"Your Description"</span><span class="p">,</span>
    <span class="s2">"transaction_no"</span><span class="p">:</span> <span class="s2">"1000018301201505200184147302"</span><span class="p">,</span>
    <span class="s2">"failure_msg"</span><span class="ss">:null</span><span class="p">,</span>
    <span class="s2">"extra"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"user_name"</span><span class="p">:</span> <span class="s2">"User Name"</span><span class="p">,</span>
        <span class="s2">"force_check"</span><span class="p">:</span> <span class="kp">true</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight plaintext"><code>{
    "id": "tr_HqbzHCvLOaL4La1ezHfDWTqH",
    "object": "transfer",
    "type": "b2c",
    "created": 1432724825,
    "time_transferred": null,
    "livemode": true,
    "status": "pending",
    "app": "app_1Gqj58ynP0mHeX1q",
    "channel": "wx_pub",
    "order_no": "123456789",
    "amount": 100,
    "amount_settle": 100,
    "currency": "cny",
    "recipient": "o7zpMs5MW2-52GAy5hRrjdYVCktU",
    "description": "Your Description",
    "transaction_no": "1000018301201505200184147302",
    "failure_msg":null,
    "extra": {
        "user_name": "User Name",
        "force_check": true
    }
}
</code></pre>
<pre class="highlight python"><code><span class="p">{</span>
    <span class="s">"id"</span><span class="p">:</span> <span class="s">"tr_HqbzHCvLOaL4La1ezHfDWTqH"</span><span class="p">,</span>
    <span class="s">"object"</span><span class="p">:</span> <span class="s">"transfer"</span><span class="p">,</span>
    <span class="s">"type"</span><span class="p">:</span> <span class="s">"b2c"</span><span class="p">,</span>
    <span class="s">"created"</span><span class="p">:</span> <span class="mi">1432724825</span><span class="p">,</span>
    <span class="s">"time_transferred"</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
    <span class="s">"livemode"</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s">"status"</span><span class="p">:</span> <span class="s">"pending"</span><span class="p">,</span>
    <span class="s">"app"</span><span class="p">:</span> <span class="s">"app_1Gqj58ynP0mHeX1q"</span><span class="p">,</span>
    <span class="s">"channel"</span><span class="p">:</span> <span class="s">"wx_pub"</span><span class="p">,</span>
    <span class="s">"order_no"</span><span class="p">:</span> <span class="s">"123456789"</span><span class="p">,</span>
    <span class="s">"amount"</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
    <span class="s">"amount_settle"</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
    <span class="s">"currency"</span><span class="p">:</span> <span class="s">"cny"</span><span class="p">,</span>
    <span class="s">"recipient"</span><span class="p">:</span> <span class="s">"o7zpMs5MW2-52GAy5hRrjdYVCktU"</span><span class="p">,</span>
    <span class="s">"description"</span><span class="p">:</span> <span class="s">"Your Description"</span><span class="p">,</span>
    <span class="s">"transaction_no"</span><span class="p">:</span> <span class="s">"1000018301201505200184147302"</span><span class="p">,</span>
    <span class="s">"failure_msg"</span><span class="p">:</span><span class="n">null</span><span class="p">,</span>
    <span class="s">"extra"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">"user_name"</span><span class="p">:</span> <span class="s">"User Name"</span><span class="p">,</span>
        <span class="s">"force_check"</span><span class="p">:</span> <span class="n">true</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight go"><code><span class="p">{</span><span class="x">
    </span><span class="s">"id"</span><span class="o">:</span><span class="x"> </span><span class="s">"tr_HqbzHCvLOaL4La1ezHfDWTqH"</span><span class="p">,</span><span class="x">
    </span><span class="s">"object"</span><span class="o">:</span><span class="x"> </span><span class="s">"transfer"</span><span class="p">,</span><span class="x">
    </span><span class="s">"type"</span><span class="o">:</span><span class="x"> </span><span class="s">"b2c"</span><span class="p">,</span><span class="x">
    </span><span class="s">"created"</span><span class="o">:</span><span class="x"> </span><span class="m">1432724825</span><span class="p">,</span><span class="x">
    </span><span class="s">"time_transferred"</span><span class="o">:</span><span class="x"> </span><span class="n">null</span><span class="p">,</span><span class="x">
    </span><span class="s">"livemode"</span><span class="o">:</span><span class="x"> </span><span class="no">true</span><span class="p">,</span><span class="x">
    </span><span class="s">"status"</span><span class="o">:</span><span class="x"> </span><span class="s">"pending"</span><span class="p">,</span><span class="x">
    </span><span class="s">"app"</span><span class="o">:</span><span class="x"> </span><span class="s">"app_1Gqj58ynP0mHeX1q"</span><span class="p">,</span><span class="x">
    </span><span class="s">"channel"</span><span class="o">:</span><span class="x"> </span><span class="s">"wx_pub"</span><span class="p">,</span><span class="x">
    </span><span class="s">"order_no"</span><span class="o">:</span><span class="x"> </span><span class="s">"123456789"</span><span class="p">,</span><span class="x">
    </span><span class="s">"amount"</span><span class="o">:</span><span class="x"> </span><span class="m">100</span><span class="p">,</span><span class="x">
    </span><span class="s">"amount_settle"</span><span class="o">:</span><span class="x"> </span><span class="m">100</span><span class="p">,</span><span class="x">
    </span><span class="s">"currency"</span><span class="o">:</span><span class="x"> </span><span class="s">"cny"</span><span class="p">,</span><span class="x">
    </span><span class="s">"recipient"</span><span class="o">:</span><span class="x"> </span><span class="s">"o7zpMs5MW2-52GAy5hRrjdYVCktU"</span><span class="p">,</span><span class="x">
    </span><span class="s">"description"</span><span class="o">:</span><span class="x"> </span><span class="s">"Your Description"</span><span class="p">,</span><span class="x">
    </span><span class="s">"transaction_no"</span><span class="o">:</span><span class="x"> </span><span class="s">"1000018301201505200184147302"</span><span class="p">,</span><span class="x">
    </span><span class="s">"failure_msg"</span><span class="o">:</span><span class="n">null</span><span class="p">,</span><span class="x">
    </span><span class="s">"extra"</span><span class="o">:</span><span class="x"> </span><span class="p">{</span><span class="x">
        </span><span class="s">"user_name"</span><span class="o">:</span><span class="x"> </span><span class="s">"User Name"</span><span class="p">,</span><span class="x">
        </span><span class="s">"force_check"</span><span class="o">:</span><span class="x"> </span><span class="no">true</span><span class="x">
    </span><span class="p">}</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre>
<pre class="highlight csharp"><code><span class="p">{</span>
    <span class="s">"id"</span><span class="p">:</span> <span class="s">"tr_HqbzHCvLOaL4La1ezHfDWTqH"</span><span class="p">,</span>
    <span class="s">"object"</span><span class="p">:</span> <span class="s">"transfer"</span><span class="p">,</span>
    <span class="s">"type"</span><span class="p">:</span> <span class="s">"b2c"</span><span class="p">,</span>
    <span class="s">"created"</span><span class="p">:</span> <span class="m">1432724825</span><span class="p">,</span>
    <span class="s">"time_transferred"</span><span class="p">:</span> <span class="k">null</span><span class="p">,</span>
    <span class="s">"livemode"</span><span class="p">:</span> <span class="k">true</span><span class="p">,</span>
    <span class="s">"status"</span><span class="p">:</span> <span class="s">"pending"</span><span class="p">,</span>
    <span class="s">"app"</span><span class="p">:</span> <span class="s">"app_1Gqj58ynP0mHeX1q"</span><span class="p">,</span>
    <span class="s">"channel"</span><span class="p">:</span> <span class="s">"wx_pub"</span><span class="p">,</span>
    <span class="s">"order_no"</span><span class="p">:</span> <span class="s">"123456789"</span><span class="p">,</span>
    <span class="s">"amount"</span><span class="p">:</span> <span class="m">100</span><span class="p">,</span>
    <span class="s">"amount_settle"</span><span class="p">:</span> <span class="m">100</span><span class="p">,</span>
    <span class="s">"currency"</span><span class="p">:</span> <span class="s">"cny"</span><span class="p">,</span>
    <span class="s">"recipient"</span><span class="p">:</span> <span class="s">"o7zpMs5MW2-52GAy5hRrjdYVCktU"</span><span class="p">,</span>
    <span class="s">"description"</span><span class="p">:</span> <span class="s">"Your Description"</span><span class="p">,</span>
    <span class="s">"transaction_no"</span><span class="p">:</span> <span class="s">"1000018301201505200184147302"</span><span class="p">,</span>
    <span class="s">"failure_msg"</span><span class="p">:</span><span class="k">null</span><span class="p">,</span>
    <span class="s">"extra"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">"user_name"</span><span class="p">:</span> <span class="s">"User Name"</span><span class="p">,</span>
        <span class="s">"force_check"</span><span class="p">:</span> <span class="k">true</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<h2 id="transfer">查询 Transfer 对象列表</h2>

<p>返回之前创建过 <code class="prettyprint">transfer</code> 对象的一个列表。列表是按创建时间进行排序，总是将最新的 <code class="prettyprint">transfer</code> 对象显示在最前</p>

<h3 id="canshu">canshu</h3>

<table><thead>
<tr>
<th>参数</th>
<th>描述</th>
<th>是否可选</th>
</tr>
</thead><tbody>
<tr>
<td>limit</td>
<td>限制每页可以返回多少对象，范围为 1-100 项，默认是 10 项。</td>
<td><strong>optional</strong></td>
</tr>
<tr>
<td>starting_after</td>
<td>在分页时使用的指针，决定了列表的第一项从何处开始。假设你的一次请求返回列表的最后一项的 <code class="prettyprint">id</code> 是 <code class="prettyprint">obj_end</code>，你可以使用 <code class="prettyprint">starting_after</code> = <code class="prettyprint">obj_end</code> 去获取下一页。</td>
<td><strong>optional</strong></td>
</tr>
<tr>
<td>ending_before</td>
<td>在分页时使用的指针，决定了列表的最末项在何处结束。假设你的一次请求返回列表的最后一项的 <code class="prettyprint">id</code> 是 <code class="prettyprint">obj_start</code>，你可以使用 <code class="prettyprint">ending_before</code> = <code class="prettyprint">obj_start</code> 去获取上一页。</td>
<td><strong>optional</strong></td>
</tr>
<tr>
<td>created</td>
<td>对象的创建时间，用 Unix 时间戳表示，参考<a href="link">created参数说明</a>。</td>
<td><strong>timestamp</strong></td>
</tr>
<tr>
<td>app[id]</td>
<td>支付使用的 <code class="prettyprint">app</code> 对象的 <code class="prettyprint">id</code>。</td>
<td><strong>optional</strong></td>
</tr>
<tr>
<td>channel</td>
<td>支付使用的第三方支付渠道，目前支持 wx(新渠道)、 wx_pub。</td>
<td><strong>optional</strong></td>
</tr>
<tr>
<td>status</td>
<td>付款状态。目前支持 3 种状态（pending: 处理中; paid: 付款成功; failed: 付款失败)。</td>
<td><strong>optional</strong></td>
</tr>
<tr>
<td>type</td>
<td>付款类型，目前仅支持 B2C。</td>
<td><strong>optional</strong></td>
</tr>
</tbody></table>

<h3 id="created">created参数说明</h3>

<table><thead>
<tr>
<th>参数</th>
<th>描述</th>
<th>是否可选</th>
</tr>
</thead><tbody>
<tr>
<td>created[gt]</td>
<td>大于 <code class="prettyprint">transfer</code> 对象的创建时间，用 Unix 时间戳表示。</td>
<td><strong>optional</strong></td>
</tr>
<tr>
<td>created[gte]</td>
<td>大于或等于 <code class="prettyprint">transfer</code> 对象的创建时间，用时间戳表示。</td>
<td><strong>optional</strong></td>
</tr>
<tr>
<td>created[lt]</td>
<td>小于 <code class="prettyprint">transfer</code> 对象的创建时间，用时间戳表示。</td>
<td><strong>optional</strong></td>
</tr>
<tr>
<td>created[lte]</td>
<td>小于或等于 <code class="prettyprint">transfer</code> 对象的创建时间，用时间戳表示。</td>
<td><strong>optional</strong></td>
</tr>
</tbody></table>

<h3 id="fanhui">fanhui</h3>

<p>返回一个已存在的 <code class="prettyprint">transfer</code> 对象的列表或者一个错误，<a href="#api-errors">详见 Errors 错误处理机制</a>。</p>
<pre class="highlight plaintext"><code>  GET https://api.pingxx.com/v1/transfers/
</code></pre>
<pre class="highlight php"><code>  \Pingpp\Transfer::all();
</code></pre>
<pre class="highlight java"><code>  <span class="n">Transfer</span><span class="o">.</span><span class="na">all</span><span class="o">(</span><span class="n">Map</span> <span class="n">options</span><span class="o">);</span>
</code></pre>
<pre class="highlight ruby"><code>  <span class="no">Pingpp</span><span class="o">::</span><span class="no">Transfer</span><span class="p">.</span><span class="nf">all</span>
</code></pre>
<pre class="highlight plaintext"><code>  pingpp.transfers.list();
</code></pre>
<pre class="highlight python"><code>  <span class="n">pingpp</span><span class="o">.</span><span class="n">Transfer</span><span class="o">.</span><span class="nb">all</span><span class="p">()</span>
</code></pre>
<pre class="highlight go"><code><span class="x">  </span><span class="n">transfers</span><span class="o">.</span><span class="n">List</span><span class="p">(</span><span class="o">&amp;</span><span class="n">TransferListParams</span><span class="p">)</span><span class="x">
</span></code></pre>
<pre class="highlight csharp"><code>  <span class="nf">list</span><span class="p">(</span><span class="n">Dictionary</span><span class="p">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">String</span><span class="p">,</span> <span class="n">Object</span><span class="p">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="k">params</span><span class="p">)</span>
</code></pre>
<pre class="highlight plaintext"><code>  curl https://api.pingxx.com/v1/transfers/?limit=3\
  -u sk_test_ibbTe5jLGCi5rzfH4OqPW9KC:
</code></pre>
<pre class="highlight php"><code>  \Pingpp\Pingpp::setApiKey('sk_test_ibbTe5jLGCi5rzfH4OqPW9KC');

  \Pingpp\Transfer::all(array('limit' =<span class="ni">&amp;gt;</span> 3));
</code></pre>
<pre class="highlight java"><code>  <span class="n">Pingpp</span><span class="o">.</span><span class="na">apiKey</span> <span class="o">=</span> <span class="s">"sk_test_ibbTe5jLGCi5rzfH4OqPW9KC"</span><span class="o">;</span>

  <span class="n">Map</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="n">transferParams</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&amp;</span><span class="n">gt</span><span class="o">;();</span>
  <span class="n">transferParams</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"limit"</span><span class="o">,</span> <span class="mi">3</span><span class="o">);</span>

  <span class="n">Transfer</span><span class="o">.</span><span class="na">all</span><span class="o">(</span><span class="n">transferParams</span><span class="o">);</span>
</code></pre>
<pre class="highlight ruby"><code>  <span class="nb">require</span> <span class="s2">"pingpp"</span>
  <span class="no">Pingpp</span><span class="p">.</span><span class="nf">api_key</span> <span class="o">=</span> <span class="s2">"sk_test_ibbTe5jLGCi5rzfH4OqPW9KC"</span>
  <span class="no">Pingpp</span><span class="o">::</span><span class="no">Transfer</span><span class="p">.</span><span class="nf">all</span><span class="p">(</span><span class="ss">:limit</span> <span class="o">=&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="mi">3</span><span class="p">)</span>
</code></pre>
<pre class="highlight plaintext"><code>  var pingpp = require('pingpp')('sk_test_ibbTe5jLGCi5rzfH4OqPW9KC');
  pingpp.transfers.list({ limit: 3 }, function(err, transfers) {
    // YOUR CODE
  });
</code></pre>
<pre class="highlight python"><code>  <span class="kn">import</span> <span class="nn">pingpp</span>
  <span class="n">pingpp</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="s">'sk_test_ibbTe5jLGCi5rzfH4OqPW9KC'</span>
  <span class="n">res</span> <span class="o">=</span> <span class="n">pingpp</span><span class="o">.</span><span class="n">Transfer</span><span class="o">.</span><span class="nb">all</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</code></pre>
<pre class="highlight go"><code><span class="x">  </span><span class="n">pingpp</span><span class="o">.</span><span class="n">Key</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="s">"sk_test_ibbTe5jLGCi5rzfH4OqPW9KC"</span><span class="x">
  </span><span class="n">params</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="o">&amp;</span><span class="n">pingpp</span><span class="o">.</span><span class="n">TransferListParams</span><span class="p">{}</span><span class="x">
  </span><span class="n">params</span><span class="o">.</span><span class="n">Filters</span><span class="o">.</span><span class="n">AddFilter</span><span class="p">(</span><span class="s">"limit"</span><span class="p">,</span><span class="x"> </span><span class="s">""</span><span class="p">,</span><span class="x"> </span><span class="s">"3"</span><span class="p">)</span><span class="x">
</span></code></pre>
<pre class="highlight csharp"><code>    <span class="n">Dictionary</span><span class="p">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">String</span><span class="p">,</span> <span class="n">Object</span><span class="p">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="k">params</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">String</span><span class="p">,</span> <span class="n">Object</span><span class="p">&amp;</span><span class="n">gt</span><span class="p">;();</span>
    <span class="k">params</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"limit"</span><span class="p">,</span> <span class="m">3</span><span class="p">);</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="n">TransferList</span> <span class="n">trs</span> <span class="p">=</span> <span class="n">Transfer</span><span class="p">.</span><span class="nf">list</span><span class="p">(</span><span class="k">params</span><span class="p">);</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">trs</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">Exception</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">Message</span><span class="p">.</span><span class="nf">ToString</span><span class="p">());</span>
    <span class="p">}</span>
</code></pre>
<pre class="highlight plaintext"><code>{
    "object": "list",
    "url": "/v1/transfers",
    "has_more": true,
    "data": [
        {
            "id": "tr_HqbzHCvLOaL4La1ezHfDWTqH",
            "object": "transfer",
            "type": "b2c",
            "created": 1432724825,
            "time_transferred": null,
            "livemode": true,
            "status": "pending",
            "app": "app_1Gqj58ynP0mHeX1q",
            "channel": "wx_pub",
            "order_no": "123456789",
            "amount": 100,
            "amount_settle": 100,
            "currency": "cny",
            "recipient": "Openid",
            "description": "Your Description",
            "transaction_no": "1000018301201505200184147302",
            "failure_msg":null,
            "extra": {
              "user_name": "User Name",
              "force_check": true
            }
        },
        {...},
        {...}
    ]
}
</code></pre>
<pre class="highlight php"><code>{
    "object": "list",
    "url": "/v1/transfers",
    "has_more": true,
    "data": [
        {
            "id": "tr_HqbzHCvLOaL4La1ezHfDWTqH",
            "object": "transfer",
            "type": "b2c",
            "created": 1432724825,
            "time_transferred": null,
            "livemode": true,
            "status": "pending",
            "app": "app_1Gqj58ynP0mHeX1q",
            "channel": "wx_pub",
            "order_no": "123456789",
            "amount": 100,
            "amount_settle": 100,
            "currency": "cny",
            "recipient": "Openid",
            "description": "Your Description",
            "transaction_no": "1000018301201505200184147302",
            "failure_msg":null,
            "extra": {
              "user_name": "User Name",
              "force_check": true
            }            
        },
        {...},
        {...}
    ]
}
</code></pre>
<pre class="highlight java"><code><span class="err">#</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">com</span><span class="o">.</span><span class="na">pingplusplus</span><span class="o">.</span><span class="na">model</span><span class="o">.</span><span class="na">TransferCollection</span> <span class="n">id</span><span class="o">=</span><span class="err">#</span><span class="o">&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="nl">JSON:</span> <span class="o">{</span>
    <span class="s">"data"</span><span class="o">:</span> <span class="o">[</span>
        <span class="o">{</span>
            <span class="s">"id"</span><span class="o">:</span> <span class="s">"tr_HqbzHCvLOaL4La1ezHfDWTqH"</span><span class="o">,</span>
            <span class="s">"object"</span><span class="o">:</span> <span class="s">"transfer"</span><span class="o">,</span>
            <span class="s">"type"</span><span class="o">:</span> <span class="s">"b2c"</span><span class="o">,</span>
            <span class="s">"created"</span><span class="o">:</span> <span class="mi">1432724825</span><span class="o">,</span>
            <span class="s">"time_transferred"</span><span class="o">:</span> <span class="kc">null</span><span class="o">,</span>
            <span class="s">"livemode"</span><span class="o">:</span> <span class="kc">true</span><span class="o">,</span>
            <span class="s">"status"</span><span class="o">:</span> <span class="s">"pending"</span><span class="o">,</span>
            <span class="s">"app"</span><span class="o">:</span> <span class="s">"app_1Gqj58ynP0mHeX1q"</span><span class="o">,</span>
            <span class="s">"channel"</span><span class="o">:</span> <span class="s">"wx_pub"</span><span class="o">,</span>
            <span class="s">"order_no"</span><span class="o">:</span> <span class="s">"123456789"</span><span class="o">,</span>
            <span class="s">"amount"</span><span class="o">:</span> <span class="mi">100</span><span class="o">,</span>
            <span class="s">"amount_settle"</span><span class="o">:</span> <span class="mi">100</span><span class="o">,</span>
            <span class="s">"currency"</span><span class="o">:</span> <span class="s">"cny"</span><span class="o">,</span>
            <span class="s">"recipient"</span><span class="o">:</span> <span class="s">"Openid"</span><span class="o">,</span>
            <span class="s">"description"</span><span class="o">:</span> <span class="s">"Your Description"</span><span class="o">,</span>
            <span class="s">"transaction_no"</span><span class="o">:</span> <span class="s">"1000018301201505200184147302"</span><span class="o">,</span>
            <span class="s">"failure_msg"</span><span class="o">:</span><span class="kc">null</span><span class="o">,</span>
            <span class="s">"extra"</span><span class="o">:</span> <span class="o">{</span>
              <span class="s">"user_name"</span><span class="o">:</span> <span class="s">"User Name"</span><span class="o">,</span>
              <span class="s">"force_check"</span><span class="o">:</span> <span class="kc">true</span>
            <span class="o">}</span>
        <span class="o">},</span>
    <span class="err">#</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">com</span><span class="o">.</span><span class="na">pingplusplus</span><span class="o">.</span><span class="na">model</span><span class="o">.</span><span class="na">Transfer</span><span class="o">[...]</span> <span class="o">...&amp;</span><span class="n">gt</span><span class="o">;,</span>
    <span class="err">#</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">com</span><span class="o">.</span><span class="na">pingplusplus</span><span class="o">.</span><span class="na">model</span><span class="o">.</span><span class="na">Transfer</span><span class="o">[...]</span> <span class="o">...&amp;</span><span class="n">gt</span><span class="o">;</span>
    <span class="o">],</span>
    <span class="s">"has_more"</span><span class="o">:</span> <span class="kc">false</span>
<span class="o">}</span>
</code></pre>
<pre class="highlight ruby"><code><span class="p">{</span>
    <span class="s2">"object"</span><span class="p">:</span> <span class="s2">"list"</span><span class="p">,</span>
    <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"/v1/transfers"</span><span class="p">,</span>
    <span class="s2">"has_more"</span><span class="p">:</span> <span class="kp">true</span><span class="p">,</span>
    <span class="s2">"data"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">"id"</span><span class="p">:</span> <span class="s2">"tr_HqbzHCvLOaL4La1ezHfDWTqH"</span><span class="p">,</span>
            <span class="s2">"object"</span><span class="p">:</span> <span class="s2">"transfer"</span><span class="p">,</span>
            <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"b2c"</span><span class="p">,</span>
            <span class="s2">"created"</span><span class="p">:</span> <span class="mi">1432724825</span><span class="p">,</span>
            <span class="s2">"time_transferred"</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
            <span class="s2">"livemode"</span><span class="p">:</span> <span class="kp">true</span><span class="p">,</span>
            <span class="s2">"status"</span><span class="p">:</span> <span class="s2">"pending"</span><span class="p">,</span>
            <span class="s2">"app"</span><span class="p">:</span> <span class="s2">"app_1Gqj58ynP0mHeX1q"</span><span class="p">,</span>
            <span class="s2">"channel"</span><span class="p">:</span> <span class="s2">"wx_pub"</span><span class="p">,</span>
            <span class="s2">"order_no"</span><span class="p">:</span> <span class="s2">"123456789"</span><span class="p">,</span>
            <span class="s2">"amount"</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
            <span class="s2">"amount_settle"</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
            <span class="s2">"currency"</span><span class="p">:</span> <span class="s2">"cny"</span><span class="p">,</span>
            <span class="s2">"recipient"</span><span class="p">:</span> <span class="s2">"Openid"</span><span class="p">,</span>
            <span class="s2">"description"</span><span class="p">:</span> <span class="s2">"Your Description"</span><span class="p">,</span>
            <span class="s2">"transaction_no"</span><span class="p">:</span> <span class="s2">"1000018301201505200184147302"</span><span class="p">,</span>
            <span class="s2">"failure_msg"</span><span class="ss">:null</span><span class="p">,</span>
            <span class="s2">"extra"</span><span class="p">:</span> <span class="p">{</span>
              <span class="s2">"user_name"</span><span class="p">:</span> <span class="s2">"User Name"</span><span class="p">,</span>
              <span class="s2">"force_check"</span><span class="p">:</span> <span class="kp">true</span>
            <span class="p">}</span>
        <span class="p">},</span>
    <span class="c1">#&amp;lt;Pingpp::Transfer[...] ...&amp;gt;,</span>
    <span class="c1">#&amp;lt;Pingpp::Transfer[...] ...&amp;gt;</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight plaintext"><code>{
    "object": "list",
    "url": "/v1/transfers",
    "has_more": true,
    "data": [
        {
            "id": "tr_HqbzHCvLOaL4La1ezHfDWTqH",
            "object": "transfer",
            "type": "b2c",
            "created": 1432724825,
            "time_transferred": null,
            "livemode": true,
            "status": "pending",
            "app": "app_1Gqj58ynP0mHeX1q",
            "channel": "wx_pub",
            "order_no": "123456789",
            "amount": 100,
            "amount_settle": 100,
            "currency": "cny",
            "recipient": "Openid",
            "description": "Your Description",
            "transaction_no": "1000018301201505200184147302",
            "failure_msg":null,
            "extra": {
              "user_name": "User Name",
              "force_check": true
            }
        },
        {...},
        {...}
    ]
}
</code></pre>
<pre class="highlight python"><code><span class="p">{</span>
    <span class="s">"object"</span><span class="p">:</span> <span class="s">"list"</span><span class="p">,</span>
    <span class="s">"url"</span><span class="p">:</span> <span class="s">"/v1/transfers"</span><span class="p">,</span>
    <span class="s">"has_more"</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s">"data"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s">"id"</span><span class="p">:</span> <span class="s">"tr_HqbzHCvLOaL4La1ezHfDWTqH"</span><span class="p">,</span>
            <span class="s">"object"</span><span class="p">:</span> <span class="s">"transfer"</span><span class="p">,</span>
            <span class="s">"type"</span><span class="p">:</span> <span class="s">"b2c"</span><span class="p">,</span>
            <span class="s">"created"</span><span class="p">:</span> <span class="mi">1432724825</span><span class="p">,</span>
            <span class="s">"time_transferred"</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
            <span class="s">"livemode"</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
            <span class="s">"status"</span><span class="p">:</span> <span class="s">"pending"</span><span class="p">,</span>
            <span class="s">"app"</span><span class="p">:</span> <span class="s">"app_1Gqj58ynP0mHeX1q"</span><span class="p">,</span>
            <span class="s">"channel"</span><span class="p">:</span> <span class="s">"wx_pub"</span><span class="p">,</span>
            <span class="s">"order_no"</span><span class="p">:</span> <span class="s">"123456789"</span><span class="p">,</span>
            <span class="s">"amount"</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
            <span class="s">"amount_settle"</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
            <span class="s">"currency"</span><span class="p">:</span> <span class="s">"cny"</span><span class="p">,</span>
            <span class="s">"recipient"</span><span class="p">:</span> <span class="s">"Openid"</span><span class="p">,</span>
            <span class="s">"description"</span><span class="p">:</span> <span class="s">"Your Description"</span><span class="p">,</span>
            <span class="s">"transaction_no"</span><span class="p">:</span> <span class="s">"1000018301201505200184147302"</span><span class="p">,</span>
            <span class="s">"failure_msg"</span><span class="p">:</span><span class="n">null</span><span class="p">,</span>
            <span class="s">"extra"</span><span class="p">:</span> <span class="p">{</span>
              <span class="s">"user_name"</span><span class="p">:</span> <span class="s">"User Name"</span><span class="p">,</span>
              <span class="s">"force_check"</span><span class="p">:</span> <span class="n">true</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="p">{</span><span class="o">...</span><span class="p">},</span>
        <span class="p">{</span><span class="o">...</span><span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight go"><code><span class="p">{</span><span class="x">
    </span><span class="s">"object"</span><span class="o">:</span><span class="x"> </span><span class="s">"list"</span><span class="p">,</span><span class="x">
    </span><span class="s">"url"</span><span class="o">:</span><span class="x"> </span><span class="s">"/v1/transfers"</span><span class="p">,</span><span class="x">
    </span><span class="s">"has_more"</span><span class="o">:</span><span class="x"> </span><span class="no">true</span><span class="p">,</span><span class="x">
    </span><span class="s">"data"</span><span class="o">:</span><span class="x"> </span><span class="p">[</span><span class="x">
        </span><span class="p">{</span><span class="x">
            </span><span class="s">"id"</span><span class="o">:</span><span class="x"> </span><span class="s">"tr_HqbzHCvLOaL4La1ezHfDWTqH"</span><span class="p">,</span><span class="x">
            </span><span class="s">"object"</span><span class="o">:</span><span class="x"> </span><span class="s">"transfer"</span><span class="p">,</span><span class="x">
            </span><span class="s">"type"</span><span class="o">:</span><span class="x"> </span><span class="s">"b2c"</span><span class="p">,</span><span class="x">
            </span><span class="s">"created"</span><span class="o">:</span><span class="x"> </span><span class="m">1432724825</span><span class="p">,</span><span class="x">
            </span><span class="s">"time_transferred"</span><span class="o">:</span><span class="x"> </span><span class="n">null</span><span class="p">,</span><span class="x">
            </span><span class="s">"livemode"</span><span class="o">:</span><span class="x"> </span><span class="no">true</span><span class="p">,</span><span class="x">
            </span><span class="s">"status"</span><span class="o">:</span><span class="x"> </span><span class="s">"pending"</span><span class="p">,</span><span class="x">
            </span><span class="s">"app"</span><span class="o">:</span><span class="x"> </span><span class="s">"app_1Gqj58ynP0mHeX1q"</span><span class="p">,</span><span class="x">
            </span><span class="s">"channel"</span><span class="o">:</span><span class="x"> </span><span class="s">"wx_pub"</span><span class="p">,</span><span class="x">
            </span><span class="s">"order_no"</span><span class="o">:</span><span class="x"> </span><span class="s">"123456789"</span><span class="p">,</span><span class="x">
            </span><span class="s">"amount"</span><span class="o">:</span><span class="x"> </span><span class="m">100</span><span class="p">,</span><span class="x">
            </span><span class="s">"amount_settle"</span><span class="o">:</span><span class="x"> </span><span class="m">100</span><span class="p">,</span><span class="x">
            </span><span class="s">"currency"</span><span class="o">:</span><span class="x"> </span><span class="s">"cny"</span><span class="p">,</span><span class="x">
            </span><span class="s">"recipient"</span><span class="o">:</span><span class="x"> </span><span class="s">"Openid"</span><span class="p">,</span><span class="x">
            </span><span class="s">"description"</span><span class="o">:</span><span class="x"> </span><span class="s">"Your Description"</span><span class="p">,</span><span class="x">
            </span><span class="s">"transaction_no"</span><span class="o">:</span><span class="x"> </span><span class="s">"1000018301201505200184147302"</span><span class="p">,</span><span class="x">
            </span><span class="s">"failure_msg"</span><span class="o">:</span><span class="n">null</span><span class="p">,</span><span class="x">
            </span><span class="s">"extra"</span><span class="o">:</span><span class="x"> </span><span class="p">{</span><span class="x">
              </span><span class="s">"user_name"</span><span class="o">:</span><span class="x"> </span><span class="s">"User Name"</span><span class="p">,</span><span class="x">
              </span><span class="s">"force_check"</span><span class="o">:</span><span class="x"> </span><span class="no">true</span><span class="x">
            </span><span class="p">}</span><span class="x">
        </span><span class="p">},</span><span class="x">
        </span><span class="p">{</span><span class="o">...</span><span class="p">},</span><span class="x">
        </span><span class="p">{</span><span class="o">...</span><span class="p">}</span><span class="x">
    </span><span class="p">]</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre>
<pre class="highlight csharp"><code><span class="p">{</span>
    <span class="s">"object"</span><span class="p">:</span> <span class="s">"list"</span><span class="p">,</span>
    <span class="s">"url"</span><span class="p">:</span> <span class="s">"/v1/transfers"</span><span class="p">,</span>
    <span class="s">"has_more"</span><span class="p">:</span> <span class="k">true</span><span class="p">,</span>
    <span class="s">"data"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s">"id"</span><span class="p">:</span> <span class="s">"tr_HqbzHCvLOaL4La1ezHfDWTqH"</span><span class="p">,</span>
            <span class="s">"object"</span><span class="p">:</span> <span class="s">"transfer"</span><span class="p">,</span>
            <span class="s">"type"</span><span class="p">:</span> <span class="s">"b2c"</span><span class="p">,</span>
            <span class="s">"created"</span><span class="p">:</span> <span class="m">1432724825</span><span class="p">,</span>
            <span class="s">"time_transferred"</span><span class="p">:</span> <span class="k">null</span><span class="p">,</span>
            <span class="s">"livemode"</span><span class="p">:</span> <span class="k">true</span><span class="p">,</span>
            <span class="s">"status"</span><span class="p">:</span> <span class="s">"pending"</span><span class="p">,</span>
            <span class="s">"app"</span><span class="p">:</span> <span class="s">"app_1Gqj58ynP0mHeX1q"</span><span class="p">,</span>
            <span class="s">"channel"</span><span class="p">:</span> <span class="s">"wx_pub"</span><span class="p">,</span>
            <span class="s">"order_no"</span><span class="p">:</span> <span class="s">"123456789"</span><span class="p">,</span>
            <span class="s">"amount"</span><span class="p">:</span> <span class="m">100</span><span class="p">,</span>
            <span class="s">"amount_settle"</span><span class="p">:</span> <span class="m">100</span><span class="p">,</span>
            <span class="s">"currency"</span><span class="p">:</span> <span class="s">"cny"</span><span class="p">,</span>
            <span class="s">"recipient"</span><span class="p">:</span> <span class="s">"Openid"</span><span class="p">,</span>
            <span class="s">"description"</span><span class="p">:</span> <span class="s">"Your Description"</span><span class="p">,</span>
            <span class="s">"transaction_no"</span><span class="p">:</span> <span class="s">"1000018301201505200184147302"</span><span class="p">,</span>
            <span class="s">"failure_msg"</span><span class="p">:</span><span class="k">null</span><span class="p">,</span>
            <span class="s">"extra"</span><span class="p">:</span> <span class="p">{</span>
              <span class="s">"user_name"</span><span class="p">:</span> <span class="s">"User Name"</span><span class="p">,</span>
              <span class="s">"force_check"</span><span class="p">:</span> <span class="k">true</span>
            <span class="p">}</span>            
        <span class="p">},</span>
        <span class="p">{...},</span>
        <span class="p">{...}</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre>

<h2 id="transfer">更新 Transfer对象</h2>

<p>更新 Transfer 对象接口只适用unionpay渠道，该渠道在 Transfer 对象请求成功后，延时5分钟发送转账，5分钟内订单处于scheduled的准备发送状态，且可调用该接口通过 Transfer 对象的 id 更新一个已创建的 Transfer 对象，即取消该笔转账。</p>

<h3 id="canshu">canshu</h3>

<table><thead>
<tr>
<th>参数</th>
<th>描述</th>
<th>是否必须</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>unionpay渠道的Transfer对象id。</td>
<td><strong>required</strong></td>
</tr>
<tr>
<td>status</td>
<td>更新Transfer的状态，只支持canceled。</td>
<td><strong>required</strong></td>
</tr>
</tbody></table>

<h3 id="fanhui">fanhui</h3>

<p>返回一个更新成功的 transfer 对象或者一个错误，<a href="#api-errors">详见 Errors 错误处理机制</a>。</p>
<pre class="highlight plaintext"><code>  PUT https://api.pingxx.com/v1/transfers/{TRANSFER_ID}
</code></pre>
<pre class="highlight plaintext"><code>curl https://api.pingxx.com/v1/transfers/tr_0eTi1OGqr9iH0i9CePf1a9C0 \
-H "Pingplusplus-Signature: SIGNATURE" \
-H "Content-Type: application/json" \
-u sk_test_ibbTe5jLGCi5rzfH4OqPW9KC: \
-d '{
    "status":"canceled"
}'
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tr_0eTi1OGqr9iH0i9CePf1a9C0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"object"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transfer"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b2c"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="mi">1467615446</span><span class="p">,</span><span class="w">
  </span><span class="nt">"time_transferred"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"livemode"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"canceled"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"app"</span><span class="p">:</span><span class="w"> </span><span class="s2">"app_1Gqj58ynP0mHeX1q"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unionpay"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"order_no"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
  </span><span class="nt">"amount_settle"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
  </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cny"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"recipient"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Your Description"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"transaction_no"</span><span class="p">:</span><span class="w"> </span><span class="s2">"371646"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"failure_msg"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"extra"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"card_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6225220317083517"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"user_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"张三丰"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"open_bank"</span><span class="p">:</span><span class="w"> </span><span class="s2">"工商银行"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"prov"</span><span class="p">:</span><span class="w"> </span><span class="s2">"上海"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"上海"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"term_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"07"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
